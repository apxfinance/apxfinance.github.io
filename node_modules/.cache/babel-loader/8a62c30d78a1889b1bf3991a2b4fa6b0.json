{"ast":null,"code":"import mitt from 'mitt';\n\nfunction getData(entity) {\n  if (entity === 'state') {\n    return window.LiveChatWidget.get('state');\n  }\n\n  if (entity === 'chat') {\n    return window.LiveChatWidget.get('chat_data');\n  }\n\n  if (entity === 'customer') {\n    return window.LiveChatWidget.get('customer_data');\n  }\n\n  return null;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n/* eslint-disable prefer-rest-params, @typescript-eslint/no-explicit-any, @typescript-eslint/ban-ts-comment, @typescript-eslint/unbound-method */\n\n\nfunction createJSApi() {\n  var slice = Array.prototype.slice;\n  /* istanbul ignore next */\n\n  function handle(args) {\n    // @ts-ignore\n    return api._h ? api._h.apply(null, args) : api._q.push(args);\n  }\n  /* istanbul ignore next */\n\n\n  var api = {\n    _q: [],\n    _h: null,\n    _v: '2.0',\n    on: function on() {\n      handle(['on', slice.call(arguments)]);\n    },\n    once: function once() {\n      handle(['once', slice.call(arguments)]);\n    },\n    off: function off() {\n      handle(['off', slice.call(arguments)]);\n    },\n    get: function get() {\n      if (!api._h) {\n        throw new Error(\"[LiveChatWidget] You can't use getters before load.\");\n      }\n\n      return handle(['get', slice.call(arguments)]);\n    },\n    call: function call() {\n      handle(['call', slice.call(arguments)]);\n    },\n    init: function init() {\n      var script = document.createElement('script');\n      script.async = true;\n      script.type = 'text/javascript';\n      script.src = 'https://cdn.livechatinc.com/tracking.js';\n      document.head.appendChild(script);\n    }\n  };\n  window.LiveChatWidget = window.LiveChatWidget || api;\n}\n\nfunction assignConfiguration(_ref) {\n  var license = _ref.license,\n      group = _ref.group,\n      chatBetweenGroups = _ref.chatBetweenGroups,\n      sessionVariables = _ref.sessionVariables;\n  window.__lc = window.__lc || {};\n\n  if (typeof license === 'string') {\n    window.__lc.license = Number(license);\n  } else {\n    throw new Error('[LiveChatWidget] The license property is required for initialization');\n  }\n\n  if (typeof group !== 'undefined') {\n    window.__lc.group = Number(group);\n  }\n\n  if (typeof chatBetweenGroups !== 'undefined') {\n    window.__lc.chat_between_groups = Boolean(chatBetweenGroups);\n  }\n\n  if (sessionVariables instanceof Object) {\n    window.__lc.params = Object.entries(sessionVariables).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          value = _ref3[1];\n\n      return {\n        name: name,\n        value: value\n      };\n    });\n  }\n}\n\nfunction assignEventHandlers(method, eventHandlers) {\n  if (method === 'off' && typeof window.LiveChatWidget === 'undefined') {\n    return;\n  }\n\n  if (typeof eventHandlers.onReady === 'function') {\n    window.LiveChatWidget[method]('ready', eventHandlers.onReady);\n  }\n\n  if (typeof eventHandlers.onAvailabilityChanged === 'function') {\n    window.LiveChatWidget[method]('availability_changed', eventHandlers.onAvailabilityChanged);\n  }\n\n  if (typeof eventHandlers.onVisibilityChanged === 'function') {\n    window.LiveChatWidget[method]('visibility_changed', eventHandlers.onVisibilityChanged);\n  }\n\n  if (typeof eventHandlers.onCustomerStatusChanged === 'function') {\n    window.LiveChatWidget[method]('customer_status_changed', eventHandlers.onCustomerStatusChanged);\n  }\n\n  if (typeof eventHandlers.onNewEvent === 'function') {\n    window.LiveChatWidget[method]('new_event', eventHandlers.onNewEvent);\n  }\n\n  if (typeof eventHandlers.onFormSubmitted === 'function') {\n    window.LiveChatWidget[method]('form_submitted', eventHandlers.onFormSubmitted);\n  }\n\n  if (typeof eventHandlers.onRatingSubmitted === 'function') {\n    window.LiveChatWidget[method]('rating_submitted', eventHandlers.onRatingSubmitted);\n  }\n\n  if (typeof eventHandlers.onGreetingDisplayed === 'function') {\n    window.LiveChatWidget[method]('greeting_displayed', eventHandlers.onGreetingDisplayed);\n  }\n\n  if (typeof eventHandlers.onGreetingHidden === 'function') {\n    window.LiveChatWidget[method]('greeting_hidden', eventHandlers.onGreetingHidden);\n  }\n\n  if (typeof eventHandlers.onRichMessageButtonClicked === 'function') {\n    window.LiveChatWidget[method]('rich_message_button_clicked', eventHandlers.onRichMessageButtonClicked);\n  }\n}\n\nfunction assignCustomerData(customerData) {\n  if (typeof customerData.name === 'string') {\n    window.LiveChatWidget.call('set_customer_name', customerData.name);\n  }\n\n  if (typeof customerData.email === 'string') {\n    window.LiveChatWidget.call('set_customer_email', customerData.email);\n  }\n}\n\nfunction assignVisibility(visibility) {\n  if (visibility === 'hidden') {\n    window.LiveChatWidget.call('hide');\n  }\n\n  if (visibility === 'maximized') {\n    window.LiveChatWidget.call('maximize');\n  }\n\n  if (visibility === 'minimized') {\n    window.LiveChatWidget.call('minimize');\n  }\n}\n\nvar emitter = mitt();\nvar lifecycleEmit = emitter.emit.bind(null);\n\nfunction lcOnInit(callback) {\n  emitter.on('init', callback);\n\n  if ('LiveChatWidget' in window) {\n    callback();\n  }\n\n  return function () {\n    emitter.off('init', callback);\n  };\n}\n\nfunction lcOnDestroy(callback) {\n  emitter.on('destroy', callback);\n  return function () {\n    emitter.off('destroy', callback);\n  };\n}\n\nfunction createWidget(config) {\n  var state = {\n    currentEventHandlers: {\n      onReady: config.onReady,\n      onNewEvent: config.onNewEvent,\n      onFormSubmitted: config.onFormSubmitted,\n      onGreetingHidden: config.onGreetingHidden,\n      onRatingSubmitted: config.onRatingSubmitted,\n      onGreetingDisplayed: config.onGreetingDisplayed,\n      onVisibilityChanged: config.onVisibilityChanged,\n      onAvailabilityChanged: config.onAvailabilityChanged,\n      onCustomerStatusChanged: config.onCustomerStatusChanged,\n      onRichMessageButtonClicked: config.onRichMessageButtonClicked\n    }\n  };\n  createJSApi();\n  assignConfiguration(config);\n  assignVisibility(config.visibility);\n  assignEventHandlers('on', state.currentEventHandlers);\n  assignCustomerData({\n    name: config.customerName,\n    email: config.customerEmail\n  });\n  window.__lc.integration_name = \"@livechat/widget-core\";\n  return {\n    init: function init() {\n      lifecycleEmit('init');\n      window.LiveChatWidget.init();\n    },\n    destroy: function destroy() {\n      lifecycleEmit('destroy');\n      window.LiveChatWidget.call('destroy');\n    },\n    updateVisibility: function updateVisibility(visibility) {\n      assignVisibility(visibility);\n    },\n    updateEventHandlers: function updateEventHandlers(eventHabndlers) {\n      assignEventHandlers('off', state.currentEventHandlers);\n      assignEventHandlers('on', eventHabndlers);\n      state.currentEventHandlers = _objectSpread2({}, eventHabndlers);\n    },\n    updateSessionVariables: function updateSessionVariables(sessionVariables) {\n      if (sessionVariables) {\n        window.LiveChatWidget.call('update_session_variables', sessionVariables);\n      }\n    },\n    hideGreeting: function hideGreeting() {\n      window.LiveChatWidget.call('hide_greeting');\n    },\n    updateCustomerData: function updateCustomerData(customerData) {\n      assignCustomerData(customerData);\n    }\n  };\n}\n\nexport { assignConfiguration, assignCustomerData, assignEventHandlers, assignVisibility, createWidget, getData, lcOnDestroy, lcOnInit };","map":{"version":3,"sources":["/Users/eduarddriessen/Documents/GitHub/apxbckup/node_modules/@livechat/widget-core/dist/widget-core.esm.js"],"names":["mitt","getData","entity","window","LiveChatWidget","get","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","err","o","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","from","test","len","arr2","TypeError","createJSApi","handle","args","api","_h","_q","_v","on","once","off","Error","init","script","document","createElement","async","type","src","head","appendChild","assignConfiguration","_ref","license","group","chatBetweenGroups","sessionVariables","__lc","Number","chat_between_groups","Boolean","params","entries","map","_ref2","_ref3","assignEventHandlers","method","eventHandlers","onReady","onAvailabilityChanged","onVisibilityChanged","onCustomerStatusChanged","onNewEvent","onFormSubmitted","onRatingSubmitted","onGreetingDisplayed","onGreetingHidden","onRichMessageButtonClicked","assignCustomerData","customerData","email","assignVisibility","visibility","emitter","lifecycleEmit","emit","bind","lcOnInit","callback","lcOnDestroy","createWidget","config","state","currentEventHandlers","customerName","customerEmail","integration_name","destroy","updateVisibility","updateEventHandlers","eventHabndlers","updateSessionVariables","hideGreeting","updateCustomerData"],"mappings":"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","sourcesContent":["import mitt from 'mitt';\n\nfunction getData(entity) {\n  if (entity === 'state') {\n    return window.LiveChatWidget.get('state');\n  }\n\n  if (entity === 'chat') {\n    return window.LiveChatWidget.get('chat_data');\n  }\n\n  if (entity === 'customer') {\n    return window.LiveChatWidget.get('customer_data');\n  }\n\n  return null;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n/* eslint-disable prefer-rest-params, @typescript-eslint/no-explicit-any, @typescript-eslint/ban-ts-comment, @typescript-eslint/unbound-method */\nfunction createJSApi() {\n  var slice = Array.prototype.slice;\n  /* istanbul ignore next */\n\n  function handle(args) {\n    // @ts-ignore\n    return api._h ? api._h.apply(null, args) : api._q.push(args);\n  }\n  /* istanbul ignore next */\n\n\n  var api = {\n    _q: [],\n    _h: null,\n    _v: '2.0',\n    on: function on() {\n      handle(['on', slice.call(arguments)]);\n    },\n    once: function once() {\n      handle(['once', slice.call(arguments)]);\n    },\n    off: function off() {\n      handle(['off', slice.call(arguments)]);\n    },\n    get: function get() {\n      if (!api._h) {\n        throw new Error(\"[LiveChatWidget] You can't use getters before load.\");\n      }\n\n      return handle(['get', slice.call(arguments)]);\n    },\n    call: function call() {\n      handle(['call', slice.call(arguments)]);\n    },\n    init: function init() {\n      var script = document.createElement('script');\n      script.async = true;\n      script.type = 'text/javascript';\n      script.src = 'https://cdn.livechatinc.com/tracking.js';\n      document.head.appendChild(script);\n    }\n  };\n  window.LiveChatWidget = window.LiveChatWidget || api;\n}\n\nfunction assignConfiguration(_ref) {\n  var license = _ref.license,\n      group = _ref.group,\n      chatBetweenGroups = _ref.chatBetweenGroups,\n      sessionVariables = _ref.sessionVariables;\n  window.__lc = window.__lc || {};\n\n  if (typeof license === 'string') {\n    window.__lc.license = Number(license);\n  } else {\n    throw new Error('[LiveChatWidget] The license property is required for initialization');\n  }\n\n  if (typeof group !== 'undefined') {\n    window.__lc.group = Number(group);\n  }\n\n  if (typeof chatBetweenGroups !== 'undefined') {\n    window.__lc.chat_between_groups = Boolean(chatBetweenGroups);\n  }\n\n  if (sessionVariables instanceof Object) {\n    window.__lc.params = Object.entries(sessionVariables).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          value = _ref3[1];\n\n      return {\n        name: name,\n        value: value\n      };\n    });\n  }\n}\n\nfunction assignEventHandlers(method, eventHandlers) {\n  if (method === 'off' && typeof window.LiveChatWidget === 'undefined') {\n    return;\n  }\n\n  if (typeof eventHandlers.onReady === 'function') {\n    window.LiveChatWidget[method]('ready', eventHandlers.onReady);\n  }\n\n  if (typeof eventHandlers.onAvailabilityChanged === 'function') {\n    window.LiveChatWidget[method]('availability_changed', eventHandlers.onAvailabilityChanged);\n  }\n\n  if (typeof eventHandlers.onVisibilityChanged === 'function') {\n    window.LiveChatWidget[method]('visibility_changed', eventHandlers.onVisibilityChanged);\n  }\n\n  if (typeof eventHandlers.onCustomerStatusChanged === 'function') {\n    window.LiveChatWidget[method]('customer_status_changed', eventHandlers.onCustomerStatusChanged);\n  }\n\n  if (typeof eventHandlers.onNewEvent === 'function') {\n    window.LiveChatWidget[method]('new_event', eventHandlers.onNewEvent);\n  }\n\n  if (typeof eventHandlers.onFormSubmitted === 'function') {\n    window.LiveChatWidget[method]('form_submitted', eventHandlers.onFormSubmitted);\n  }\n\n  if (typeof eventHandlers.onRatingSubmitted === 'function') {\n    window.LiveChatWidget[method]('rating_submitted', eventHandlers.onRatingSubmitted);\n  }\n\n  if (typeof eventHandlers.onGreetingDisplayed === 'function') {\n    window.LiveChatWidget[method]('greeting_displayed', eventHandlers.onGreetingDisplayed);\n  }\n\n  if (typeof eventHandlers.onGreetingHidden === 'function') {\n    window.LiveChatWidget[method]('greeting_hidden', eventHandlers.onGreetingHidden);\n  }\n\n  if (typeof eventHandlers.onRichMessageButtonClicked === 'function') {\n    window.LiveChatWidget[method]('rich_message_button_clicked', eventHandlers.onRichMessageButtonClicked);\n  }\n}\n\nfunction assignCustomerData(customerData) {\n  if (typeof customerData.name === 'string') {\n    window.LiveChatWidget.call('set_customer_name', customerData.name);\n  }\n\n  if (typeof customerData.email === 'string') {\n    window.LiveChatWidget.call('set_customer_email', customerData.email);\n  }\n}\n\nfunction assignVisibility(visibility) {\n  if (visibility === 'hidden') {\n    window.LiveChatWidget.call('hide');\n  }\n\n  if (visibility === 'maximized') {\n    window.LiveChatWidget.call('maximize');\n  }\n\n  if (visibility === 'minimized') {\n    window.LiveChatWidget.call('minimize');\n  }\n}\n\nvar emitter = mitt();\nvar lifecycleEmit = emitter.emit.bind(null);\nfunction lcOnInit(callback) {\n  emitter.on('init', callback);\n\n  if ('LiveChatWidget' in window) {\n    callback();\n  }\n\n  return function () {\n    emitter.off('init', callback);\n  };\n}\nfunction lcOnDestroy(callback) {\n  emitter.on('destroy', callback);\n  return function () {\n    emitter.off('destroy', callback);\n  };\n}\n\nfunction createWidget(config) {\n  var state = {\n    currentEventHandlers: {\n      onReady: config.onReady,\n      onNewEvent: config.onNewEvent,\n      onFormSubmitted: config.onFormSubmitted,\n      onGreetingHidden: config.onGreetingHidden,\n      onRatingSubmitted: config.onRatingSubmitted,\n      onGreetingDisplayed: config.onGreetingDisplayed,\n      onVisibilityChanged: config.onVisibilityChanged,\n      onAvailabilityChanged: config.onAvailabilityChanged,\n      onCustomerStatusChanged: config.onCustomerStatusChanged,\n      onRichMessageButtonClicked: config.onRichMessageButtonClicked\n    }\n  };\n  createJSApi();\n  assignConfiguration(config);\n  assignVisibility(config.visibility);\n  assignEventHandlers('on', state.currentEventHandlers);\n  assignCustomerData({\n    name: config.customerName,\n    email: config.customerEmail\n  });\n  window.__lc.integration_name = \"@livechat/widget-core\";\n  return {\n    init: function init() {\n      lifecycleEmit('init');\n      window.LiveChatWidget.init();\n    },\n    destroy: function destroy() {\n      lifecycleEmit('destroy');\n      window.LiveChatWidget.call('destroy');\n    },\n    updateVisibility: function updateVisibility(visibility) {\n      assignVisibility(visibility);\n    },\n    updateEventHandlers: function updateEventHandlers(eventHabndlers) {\n      assignEventHandlers('off', state.currentEventHandlers);\n      assignEventHandlers('on', eventHabndlers);\n      state.currentEventHandlers = _objectSpread2({}, eventHabndlers);\n    },\n    updateSessionVariables: function updateSessionVariables(sessionVariables) {\n      if (sessionVariables) {\n        window.LiveChatWidget.call('update_session_variables', sessionVariables);\n      }\n    },\n    hideGreeting: function hideGreeting() {\n      window.LiveChatWidget.call('hide_greeting');\n    },\n    updateCustomerData: function updateCustomerData(customerData) {\n      assignCustomerData(customerData);\n    }\n  };\n}\n\nexport { assignConfiguration, assignCustomerData, assignEventHandlers, assignVisibility, createWidget, getData, lcOnDestroy, lcOnInit };\n"]},"metadata":{},"sourceType":"module"}